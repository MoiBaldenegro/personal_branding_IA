import{g as _,J as z,F as A}from"./Layout.astro_astro_type_script_index_0_lang.Cpq5mWaQ.js";class c{constructor(t){this.id=-1,this.nativePointer=t,this.pageX=t.pageX,this.pageY=t.pageY,this.clientX=t.clientX,this.clientY=t.clientY,self.Touch&&t instanceof Touch?this.id=t.identifier:d(t)&&(this.id=t.pointerId)}getCoalesced(){if("getCoalescedEvents"in this.nativePointer){const t=this.nativePointer.getCoalescedEvents().map(o=>new c(o));if(t.length>0)return t}return[this]}}const d=n=>"pointerId"in n,g=n=>"changedTouches"in n,f=()=>{};class S{constructor(t,{start:o=()=>!0,move:i=f,end:r=f,rawUpdates:h=!1,avoidPointerEvents:v=!1}={}){this._element=t,this.startPointers=[],this.currentPointers=[],this._excludeFromButtonsCheck=new Set,this._pointerStart=e=>{if(d(e)&&e.buttons===0)this._excludeFromButtonsCheck.add(e.pointerId);else if(!(e.buttons&1))return;const s=new c(e);this.currentPointers.some(a=>a.id===s.id)||this._triggerPointerStart(s,e)&&(d(e)?((e.target&&"setPointerCapture"in e.target?e.target:this._element).setPointerCapture(e.pointerId),this._element.addEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.addEventListener("pointerup",this._pointerEnd),this._element.addEventListener("pointercancel",this._pointerEnd)):(window.addEventListener("mousemove",this._move),window.addEventListener("mouseup",this._pointerEnd)))},this._touchStart=e=>{for(const s of Array.from(e.changedTouches))this._triggerPointerStart(new c(s),e)},this._move=e=>{if(!g(e)&&(!d(e)||!this._excludeFromButtonsCheck.has(e.pointerId))&&e.buttons===0){this._pointerEnd(e);return}const s=this.currentPointers.slice(),a=g(e)?Array.from(e.changedTouches).map(l=>new c(l)):[new c(e)],p=[];for(const l of a){const b=this.currentPointers.findIndex(L=>L.id===l.id);b!==-1&&(p.push(l),this.currentPointers[b]=l)}p.length!==0&&this._moveCallback(s,p,e)},this._triggerPointerEnd=(e,s)=>{if(!g(s)&&s.buttons&1)return!1;const a=this.currentPointers.findIndex(l=>l.id===e.id);if(a===-1)return!1;this.currentPointers.splice(a,1),this.startPointers.splice(a,1),this._excludeFromButtonsCheck.delete(e.id);const p=!(s.type==="mouseup"||s.type==="touchend"||s.type==="pointerup");return this._endCallback(e,s,p),!0},this._pointerEnd=e=>{if(this._triggerPointerEnd(new c(e),e))if(d(e)){if(this.currentPointers.length)return;this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd)}else window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)},this._touchEnd=e=>{for(const s of Array.from(e.changedTouches))this._triggerPointerEnd(new c(s),e)},this._startCallback=o,this._moveCallback=i,this._endCallback=r,this._rawUpdates=h&&"onpointerrawupdate"in window,self.PointerEvent&&!v?this._element.addEventListener("pointerdown",this._pointerStart):(this._element.addEventListener("mousedown",this._pointerStart),this._element.addEventListener("touchstart",this._touchStart),this._element.addEventListener("touchmove",this._move),this._element.addEventListener("touchend",this._touchEnd),this._element.addEventListener("touchcancel",this._touchEnd))}stop(){this._element.removeEventListener("pointerdown",this._pointerStart),this._element.removeEventListener("mousedown",this._pointerStart),this._element.removeEventListener("touchstart",this._touchStart),this._element.removeEventListener("touchmove",this._move),this._element.removeEventListener("touchend",this._touchEnd),this._element.removeEventListener("touchcancel",this._touchEnd),this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd),window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)}_triggerPointerStart(t,o){return this._startCallback(t,o)?(this.currentPointers.push(t),this.startPointers.push(t),!0):!1}}function B(n,t){t===void 0&&(t={});var o=t.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",o==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}}var I="styles_scrubber__39cN6",T="styles_two-up-handle__2kVsP",V='two-up{display:grid;position:relative;--split-point:0;--accent-color:#777;--track-color:var(--accent-color);--thumb-background:#fff;--thumb-color:var(--accent-color);--thumb-size:62px;--bar-size:6px;--bar-touch-size:30px}two-up>*{grid-area:1/1}two-up[legacy-clip-compat]>:not(.styles_two-up-handle__2kVsP){position:absolute}.styles_two-up-handle__2kVsP{touch-action:none;position:relative;width:var(--bar-touch-size);transform:translateX(var(--split-point)) translateX(-50%);will-change:transform;cursor:ew-resize}.styles_two-up-handle__2kVsP:before{content:"";display:block;height:100%;width:var(--bar-size);margin:0 auto;box-shadow:inset calc(var(--bar-size) / 2) 0 0 rgba(0,0,0,.1),0 1px 4px rgba(0,0,0,.4);background:var(--track-color)}.styles_scrubber__39cN6{display:flex;position:absolute;top:50%;left:50%;transform-origin:50% 50%;transform:translate(-50%,-50%);width:var(--thumb-size);height:calc(var(--thumb-size) * .9);background:var(--thumb-background);border:1px solid rgba(0,0,0,.2);border-radius:var(--thumb-size);box-shadow:0 1px 4px rgba(0,0,0,.1);color:var(--thumb-color);box-sizing:border-box;padding:0 calc(var(--thumb-size) * .24)}.styles_scrubber__39cN6 svg{flex:1}two-up[orientation=vertical] .styles_two-up-handle__2kVsP{width:auto;height:var(--bar-touch-size);transform:translateY(var(--split-point)) translateY(-50%);cursor:ns-resize}two-up[orientation=vertical] .styles_two-up-handle__2kVsP:before{width:auto;height:var(--bar-size);box-shadow:inset 0 calc(var(--bar-size) / 2) 0 rgba(0,0,0,.1),0 1px 4px rgba(0,0,0,.4);margin:calc((var(--bar-touch-size) - var(--bar-size)) / 2) 0 0}two-up[orientation=vertical] .styles_scrubber__39cN6{box-shadow:1px 0 4px rgba(0,0,0,.1);transform:translate(-50%,-50%) rotate(-90deg)}two-up>:first-child:not(.styles_two-up-handle__2kVsP){-webkit-clip-path:inset(0 calc(100% - var(--split-point)) 0 0);clip-path:inset(0 calc(100% - var(--split-point)) 0 0)}two-up>:nth-child(2):not(.styles_two-up-handle__2kVsP){-webkit-clip-path:inset(0 0 0 var(--split-point));clip-path:inset(0 0 0 var(--split-point))}two-up[orientation=vertical]>:first-child:not(.styles_two-up-handle__2kVsP){-webkit-clip-path:inset(0 0 calc(100% - var(--split-point)) 0);clip-path:inset(0 0 calc(100% - var(--split-point)) 0)}two-up[orientation=vertical]>:nth-child(2):not(.styles_two-up-handle__2kVsP){-webkit-clip-path:inset(var(--split-point) 0 0 0);clip-path:inset(var(--split-point) 0 0 0)}@supports not ((clip-path:inset(0 0 0 0)) or (-webkit-clip-path:inset(0 0 0 0))){two-up[legacy-clip-compat]>:first-child:not(.styles_two-up-handle__2kVsP){clip:rect(auto var(--split-point) auto auto)}two-up[legacy-clip-compat]>:nth-child(2):not(.styles_two-up-handle__2kVsP){clip:rect(auto auto auto var(--split-point))}two-up[orientation=vertical][legacy-clip-compat]>:first-child:not(.styles_two-up-handle__2kVsP){clip:rect(auto auto var(--split-point) auto)}two-up[orientation=vertical][legacy-clip-compat]>:nth-child(2):not(.styles_two-up-handle__2kVsP){clip:rect(var(--split-point) auto auto auto)}}';B(V);const w="legacy-clip-compat",u="orientation";class F extends HTMLElement{constructor(){super(),this._handle=document.createElement("div"),this._position=0,this._relativePosition=.5,this._positionOnPointerStart=0,this._everConnected=!1,this._handle.className=T,new MutationObserver(()=>this._childrenChange()).observe(this,{childList:!0}),"ResizeObserver"in window?new ResizeObserver(()=>this._resetPosition()).observe(this):window.addEventListener("resize",()=>this._resetPosition());const t=new S(this._handle,{start:(o,i)=>t.currentPointers.length===1?!1:(i.preventDefault(),this._positionOnPointerStart=this._position,!0),move:()=>{this._pointerChange(t.startPointers[0],t.currentPointers[0])}})}static get observedAttributes(){return[u]}connectedCallback(){this._childrenChange(),this._handle.innerHTML=`<div class="${I}"><svg viewBox="0 0 27 20" fill="currentColor"><path d="M17 19.2l9.5-9.6L16.9 0zM9.6 0L0 9.6l9.6 9.6z"/></svg></div>`,this._everConnected||(this._resetPosition(),this._everConnected=!0)}attributeChangedCallback(t){t===u&&this._resetPosition()}_resetPosition(){requestAnimationFrame(()=>{const t=this.getBoundingClientRect(),o=this.orientation==="vertical"?"height":"width";this._position=t[o]*this._relativePosition,this._setPosition()})}get legacyClipCompat(){return this.hasAttribute(w)}set legacyClipCompat(t){t?this.setAttribute(w,""):this.removeAttribute(w)}get orientation(){const t=this.getAttribute(u);return t&&t.toLowerCase()==="vertical"?"vertical":"horizontal"}set orientation(t){this.setAttribute(u,t)}_childrenChange(){this.lastElementChild!==this._handle&&this.appendChild(this._handle)}_pointerChange(t,o){const i=this.orientation==="vertical"?"clientY":"clientX",r=this.orientation==="vertical"?"height":"width",h=this.getBoundingClientRect();this._position=this._positionOnPointerStart+(o[i]-t[i]),this._position=Math.max(0,Math.min(this._position,h[r])),this._relativePosition=this._position/h[r],this._setPosition()}_setPosition(){this.style.setProperty("--split-point",`${this._position}px`)}}customElements.define("two-up",F);const R=document.querySelectorAll("button"),m=document.querySelector("main")?.getAttribute("data-id"),M=document.querySelectorAll("#preview"),N=document.querySelectorAll("img"),k=_({src:m,replaceBackground:"un fondo terrorífico con alusión a halloween",crop:{height:720,width:720,source:!0,type:"fill",gravity:"face"}}),C=_({src:m,replaceBackground:"un fondo terrorífico con alusión a halloween",crop:{height:1080,width:1080,source:!0,type:"fill",gravity:"face"}}),x=_({src:m,replaceBackground:"un fondo terrorífico con alusión a halloween",crop:{height:400,width:400,source:!0,type:"fill",gravity:"face"}}),U=document.getElementById("download-button"),X=async()=>{const n=new z;try{const o=await(await fetch(k)).blob();n.file("facebook_image.jpg",o);const r=await(await fetch(C)).blob();n.file("instagram_image.jpg",r);const v=await(await fetch(x)).blob();n.file("twitter_image.jpg",v);const e=await n.generateAsync({type:"blob"});A.saveAs(e,"images.zip")}catch(t){console.error("Error creando el ZIP:",t)}};U.addEventListener("click",X);R.forEach(n=>{n.addEventListener("click",()=>{N.forEach(i=>{i.removeAttribute("hidden")}),document.getElementById("two-up").removeAttribute("hidden");const o=_({src:m,replaceBackground:"un fondo terrorífico con alusión a halloween"});M.forEach(i=>{i.style.opacity="0.3",i.src=o,i.onload=()=>{i.style.opacity="1"}})})});const E=document.getElementById("instagram-preview");E&&(E.src=C);const y=document.getElementById("previewFacebook");y&&(y.src=k);const P=document.getElementById("preview-twitter");P&&(P.src=x);
